# v1.14.0 release changelogs

<!-- The following line should ONLY be put PRE-release changelogs -->
> [!WARNING]
> Since this is a release candidate (RC), we do NOT recommend using it in a production environment. Is something not working as expected? We welcome [bug reports[#new]]((https://github.com/meilisearch/meilisearch/issues/new)/choose) and [feedback about new features](https://github.com/meilisearch/product/discussions).

Meilisearch v1.14 exposes a more granular way to express your filterable attributes! üéâ This release also improves the performances of semantic search, the indexing speed of embeddings and a new route to get multiple documents by IDs.

<!-- The following lines should NOT be put in the PRE-release changelogs -->
üß∞ All official Meilisearch integrations (including SDKs, clients, and other tools) are compatible with this Meilisearch release. Integration deployment happens between 4 to 48 hours after a new version becomes available.

<!-- The following lines should NOT be put in the PRE-release changelogs -->
Some SDKs might not include all new features. Consult the project repository for detailed information. Is a feature you need missing from your chosen SDK? Create an issue letting us know you need it, or, for open-source karma points, open a PR implementing it (we'll love you for that ‚ù§Ô∏è).

# New features and updates üî•

## Granular Filterable Attribute Settings


This feature allows for the choice of the filter features of each filterable attribute with high granularity.
Activating or deactivating a feature will have an impact on the indexing time.
To use the feature, use the new `filterableAttributes` format in the settings route (`PATCH /indexes/INDEX_UID/settings`):

```json
{
	"filterableAttributes": [
	  {
	    "attributePatterns": ["genre", "artist"], 
	    "features": { "facetSearch": true, "filter": {"equality": true, "comparison": false } }
	  },
	  {
	    "attributePatterns": ["rank"],
	    "features": { "facetSearch": false, "filter": {"equality": true, "comparison": true } }
	  },
	  {
	    "attributePatterns": ["albumId"],
	    "features": { "facetSearch": false, "filter": {"equality": true, "comparison": false } }
	  },
	]
}
```json

> üóíÔ∏è  In this example, we activate/deactivate each feature depending on the usage of each filterable attribute, the `genre` and `artist` are expected to be strings so the facet search and the equality operators (`=`/`!=`) are activated, but, the comparison operators are deactivated (`>=`, `<=`, ...) because it's not useful and will save time during the indexing process.
> However, the rank is expected to be a number, so the facet search is deactivated in favor of the the comparison operators.
> Last, the albumId is expected to be unique, so only the equality operators (`=`/`!=`) are activated.
For more details about this feature, please refer to its [public usage page](https://meilisearch.notion.site/API-usage-Settings-to-opt-out-indexing-features-filterableAttributes-1764b06b651f80aba8bdf359b2df3ca8)


Done by @ManyTheFish in [#5254](https://github.com/meilisearch/meilisearch/pull/5254).

## Composite Embedders


This feature allows using different embedders at search and indexing time, which is useful to optimize the embedder to each situation:

- Using a remote embedder for indexing in bulk, as remote embedders provide the highest bandwidth (embeddings/s)
- Using a local embedder for answering search queries, as local embedders provide the lowest latency (time to first embedding)

To use the feature, follow these steps:

1. Enable the `Composite embedders` feature from the Cloud dashboard or with the following:
```
curl -H 'Content-Type: application/json' MEILISEARCH_URL/experimental-features -d '{"compositeEmbedders": true}'
```
2. Send a settings task (`PATCH /indexes/INDEX_UID/settings`) containing an embedder with `source: "composite"`, and with the parameters `searchEmbedder` and `indexingEmbedder` describing the embedder at search time (resp. indexing time). For example, using a [Hugging Face inference endpoint](https://huggingface.co/inference-endpoints/dedicated)
```jsonc
{
    "embedders": {
        "text": {
            "source": "composite",
            "searchEmbedder": {
                "source": "huggingFace", // locally computed embeddings using a model from the Hugging Face Hub
                "model": "baai/bge-base-en-v1.5",
                "revision": "a5beb1e3e68b9ab74eb54cfd186867f64f240e1a"
            },
            "indexingEmbedder": {
                "source": "rest", // remotely computed embeddings using Hugging Face inference endpoints
                "url": "https://URL.endpoints.huggingface.cloud",
                "apiKey": "hf_XXXXXXX",
                "documentTemplate": "Your {{doc.template}}",
                "request": {
                    "inputs": [
                        "{{text}}",
                        "{{..}}"
                    ]
                },
                "response": [
                    "{{embedding}}",
                    "{{..}}"
                ]
            }
        }
    }
}
```
3. Send documents to the index. They will be indexed remotely using the Hugging Face inference endpoint.
4. Perform semantic search queries, they will be embedded using the local model fetched from the Hugging Face Hub.

For more details about this feature, please refer to its [public usage page](https://www.notion.so/meilisearch/Composite-embedder-usage-14a4b06b651f81859dc3df21e8cd02a0?pvs=4#19f4b06b651f809ab3ecc0daae7d5856)
<TBD: Find a better title>

Done by @dureuill in [#5371](https://github.com/meilisearch/meilisearch/pull/5371).

## Other improvements

* Get multiple documents by ids by @dureuill in [#5384](https://github.com/meilisearch/meilisearch/pull/5384)
* Support merging update and replacement operations by @Kerollmops in [#5293](https://github.com/meilisearch/meilisearch/pull/5293)
* Display the internal indexing steps with timings on the `/batches` route by @Kerollmops in [#5356](https://github.com/meilisearch/meilisearch/pull/5356)
* exhaustive facet search by @ManyTheFish in [#5369](https://github.com/meilisearch/meilisearch/pull/5369)
* Reduce RAM consumption of arroy by @irevoire in https://github.com/meilisearch/arroy/pull/105
* Cache Embeddings in Search with an experimental feature by @dureuill in [#5418](https://github.com/meilisearch/meilisearch/pull/5418)
* Extend the batch progress view to the indexing of vectors by @irevoire in [5420](https://github.com/meilisearch/meilisearch/pull/5420)

# Fixes üêû

* Support fetching the pooling method from the model configuration by @dureuill in [#5355](https://github.com/meilisearch/meilisearch/pull/5355)
* Make sure to delete useless prefixes by @Kerollmops in [#5413](https://github.com/meilisearch/meilisearch/pull/5413)

# Misc

* Dependencies updates
  * Bump Ubuntu in the CI from 20.04 to 22.04 by @Kerollmops in [#5338](https://github.com/meilisearch/meilisearch/pull/5338)
  * Bump heed to v0.22 by @irevoire and @Kerollmops in [#5406](https://github.com/meilisearch/meilisearch/pull/5406)
* CIs and tests
  * Improve test performance of get_index.rs  by @DerTimonius in [#5210](https://github.com/meilisearch/meilisearch/pull/5210)
  * Ollama Integration Tests by @Kerollmops in [#5308](https://github.com/meilisearch/meilisearch/pull/5308)
  * Ensure the settings routes are now configurated when a new field is added to the Settings struct  by @MichaScant in [#5149](https://github.com/meilisearch/meilisearch/pull/5149)
  * Skip a snapshot test on Windows by @Kerollmops in [#5383](https://github.com/meilisearch/meilisearch/pull/5383)
* Misc
  * Rename `callTrace` into `progressTrace` by @Kerollmops in [#5364](https://github.com/meilisearch/meilisearch/pull/5364)
  * Make composite embedders an experimental feature by @dureuill in [#5401](https://github.com/meilisearch/meilisearch/pull/5401)

‚ù§Ô∏è Thanks again to our external contributors:
- [Meilisearch](https://github.com/meilisearch/meilisearch): @MichaScant
- [Heed](https://github.com/meilisearch/heed): @oXtxNt9U
- [Arroy](https://github.com/meilisearch/arroy): @ptondereau
