# v1.2.0 release changelogs

<!-- The following line should NOT be put in the official release changelogs -->
‚ö†Ô∏è Since this is a release candidate (RC), we do NOT recommend using it in a production environment. Is something not working as expected? We welcome [bug reports](https://github.com/meilisearch/meilisearch/issues/new/choose) and [feedback about new features](https://github.com/meilisearch/product/discussions).

Meilisearch v1.2.0 improve search relevancy and performance but also introduces new filter operators like `IS NULL` and `IS EMPTY`!

<!-- The following lines should ONLY be put in the official release changelogs -->
üß∞ All official Meilisearch integrations (including SDKs, clients, and other tools) are compatible with this Meilisearch release. Integration deployment happens between 4 to 48 hours after a new version becomes available.

Some SDKs might not include all new features‚Äîconsult the project repository for detailed information. Is a feature you need missing from your chosen SDK? Create an issue letting us know you need it, or, for open-source karma points, open a PR implementing it (we'll love you for that ‚ù§Ô∏è).

<!-- The following line should NOT be put in the official release changelogs, and the link should be added as soon as possible during the pre-release -->
üìñ Meilisearch's official documentation will be ready for the official v1.2.0 release. Meanwhile, work-in-progress documentation is available [here]().

# New features and improvements üî•

## Delete documents using filtering

TBD

Done by @dureuill and @irevoire in #3550.

## New filter operators: `IS EMPTY` and `IS NULL`

During the search, you can use [filtering](https://www.meilisearch.com/docs/reference/api/search#filter) and retrieve documents containing `null` or empty fields.

For example with the following set of documents:

```json
[{
    "id": 0,
    "color": []
},
{
    "id": 1,
    "color": null
},
{
    "id": 2,
    "color": ""
},
{
    "id": 3,
    "color": {}
},
{
    "id": 4
}]
```

The filter `color IS EMPTY` selects the document ids `0`, `2` and `3` while the filter `color IS NOT EMPTY` or `NOT color IS EMPTY` selects the document ids `1` and `4`.

The filter `color IS NULL` selects the document ids `1` while the filter `color IS NOT NULL` or `NOT color IS NULL` selects the document ids `0`, `2`, `3` and `4`.

Done by @Kerollmops in #3571.

## Improve relevancy and search performance

- The fastest 75 percents of queries now consistently answer below 50ms on our test setup (TBC on the cloud).
- The complexity of a search query is now limited, in order to limit CPU time and RAM consumption. In more details:
  - The number of typo considered for a single term is now limited to 150 for 1 typo, 50 for 2 typos. Similarly, the number of considered (single word or multi word) synonyms is limited to 50, the total number of words for all synonyms of a term is limited to 100.
  - The number of words considered in a query is now limited to 1000. The number of terms (words not inside a phrase, and individual phrases) was and is still limited to 10, so this change only impacts queries containing very long phrases.

### Performance of `geosort`

- Improved performance when there are only a few documents to geosort.
- Descending sort is now as performant as ascending sort.

### Relevancy improvements

- Synonyms are no longer considered as exact matches by the `exactness` ranking rule. This change is due to the goal of the `exactness` ranking rule of boosting the documents that contain the query exactly as typed by the user. Other ranking rules will still consider synonyms.
- `Attributes`, `Exactness`, `typo` and `proximity` ranking rules now imply `words` if `words` was not already specified before them. This change was made because the behavior of applying these ranking rules before or without `words` was unintuitive and could hurt relevancy.
- Split words are now looked for for digrams. This means that the query `whit ehorse` may now match documents containing `white horse`, which improves the relevancy of typo tolerance.
- ngrams and split words are now disadvantaged in comparison to the exact word in the `typo` ranking rule.
- Exactness will not prioritize documents containing exact words which were previously removed by the `words` ranking rule anymore. For example, when using the query `Batman: the dark knight rises` with the default term matching strategy (`last`), documents with a title starting with `Batman: the dark knight` will now be returned before documents that contain additional terms like `Batman: the dark knight crashes`, which improves relevancy. Congratulations if you read so far. Similarly, with the query: `Batman the supercalifragilisticexpialidocious knight rises`. Then the `Last` term matching strategy will reduce the query to `Batman the`. Exactness will then only prioritise documents that contain the exact words `Batman` and `the` but not `supercalifragilisticexpialidocious`, `knight`, or `rises`. 


Done by @loiclec, @dureuill, @ManyTheFish, @Kerollmops and @irevoire in #3542.

## Prevent Meilisearch to stop receiving task by removing tasks automatically

TBD

Done by @irevoire in #3693.

## Language support improvements

* Split camelCase in Latin segmenter
* Improve Arabic: normalizer and segmentation

Done by @ManyTheFish, @akeamc, @DrAliRagab, @goodhoko, and @mosuka in #3702 and in [Charabia v0.7.2](https://github.com/meilisearch/charabia/releases/tag/v0.7.2)

## Other improvements

* Add the support of boolean for CSV documents (#3576) @irevoire
* Improve geo sort errors during sorting and filtering (#3638 and #3631) @cymruu

# Fixes üêû

* Improve the `GET /health` route by ensuring the internal DB is not down (#3647) @irevoire
* Handle single quotation mark (`‚Äô`) and apostrophe (`'`) the same way (#3702) @ManyTheFish

# Misc

* Dependencies upgrade
  * Bump the Meilisearch dependencies (#3661) @Kerollmops
  * Security: bump h2 from 0.3.15 to 0.3.17 (#3674)
  * Update clippy toolchain from v1.67 to v1.69 (#3695) @curquiza
  * Bump GitHub actions dependencies: #3554, #3551, #3552, #3553, #3633
* CIs and tests
  * Add scheduled test to Actions for all features (#3510) @jlucktay
  * Clean CI file names (#3567) @curquiza
  * Enable cache again in test suite CI (#3587) @curquiza
  * Remove CLI changes for clippy (#3464) @dureuill
  * Improve docker cache in CIs (#3566) @inductor
  * Remove Uffizzi because not used by the team (#3694) @curquiza
* Documentation
  * Add a newline after the meilisearch version in the issue template (#3636) @bidoubiwa
  * Add sprint issue to the template issues (#3643) @curquiza
  * Update the prototype section in CONTRIBUTING.md (#3649) @curquiza
  * Update README to reference new docs website (#3666) @guimachiavelli
* Misc
  * Milli scope: for a settings update, check to see if the primary key actually changes before erroring out (#3608) @GregoryConrad
  * Remove the unused snapshot files (#3696) @irevoire

‚ù§Ô∏è Thanks again to our external contributors:
- [Meilisearch](https://github.com/meilisearch/meilisearch): @cymruu, @GregoryConrad, @inductor, and @jlucktay.
- [Charabia](https://github.com/meilisearch/charabia): @akeamc, @DrAliRagab, @goodhoko, and @mosuka.
